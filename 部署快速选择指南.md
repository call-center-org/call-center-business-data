# 🚀 部署快速选择指南

> 3 分钟帮您选择最适合的部署方案

---

## 🎯 我该选择哪种部署方式？

### 场景 1：团队在中国大陆，需要快速上线 ⭐⭐⭐

**👉 推荐：Zeabur**

```bash
# 一键部署
./部署到Zeabur.sh
```

**为什么？**
- ✅ 国内访问速度快（有中国节点）
- ✅ 5分钟完成部署
- ✅ Git push 自动更新
- ✅ 免费额度够用
- ✅ 无需运维

**详细文档**：[DOCKER_DEPLOYMENT.md - Zeabur 部署](./DOCKER_DEPLOYMENT.md#zeabur部署推荐)

---

### 场景 2：本地开发测试

**👉 推荐：Docker Compose**

```bash
# 一键启动
./快速部署Docker.sh

# 或手动启动
docker-compose up -d
```

**为什么？**
- ✅ 环境隔离，不污染本地
- ✅ 一键启动前后端
- ✅ 与生产环境一致
- ✅ 团队协作方便

**详细文档**：[DOCKER_DEPLOYMENT.md - 本地开发](./DOCKER_DEPLOYMENT.md#本地开发部署)

---

### 场景 3：有自己的云服务器（腾讯云/阿里云/AWS等）

**👉 推荐：Docker + Nginx**

```bash
# SSH 登录服务器后
git clone <your-repo>
cd call-center-business-data
./快速部署Docker.sh
```

**为什么？**
- ✅ 完全控制服务器
- ✅ 灵活配置
- ✅ 可配置域名和 HTTPS
- ✅ 性能可控

**详细文档**：[DOCKER_DEPLOYMENT.md - 生产环境部署](./DOCKER_DEPLOYMENT.md#生产环境部署)

---

### 场景 4：已有腾讯云账号，习惯腾讯云生态

**👉 推荐：CloudBase**

**详细文档**：
- [CloudBase-GitHub自动部署配置指南.md](./CloudBase-GitHub自动部署配置指南.md)
- [CloudBase命令行部署.md](./CloudBase命令行部署.md)

---

## 📊 详细对比

| 维度 | Docker 本地 | Docker 云服务器 | Zeabur | CloudBase |
|------|-------------|----------------|--------|-----------|
| **部署难度** | ⭐ 简单 | ⭐⭐ 中等 | ⭐ 简单 | ⭐⭐ 中等 |
| **国内访问速度** | N/A | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| **运维成本** | 低 | 中 | 极低 | 中 |
| **费用** | 免费 | 按服务器 | 免费额度 | 按量计费 |
| **自动 CI/CD** | ❌ | ⭐（需配置） | ⭐⭐⭐ | ⭐⭐ |
| **灵活性** | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐ |
| **适合规模** | 小 | 中大 | 小中 | 中大 |

---

## 🎬 快速开始

### 1️⃣ Zeabur 部署（推荐新手）

```bash
# 确保已提交代码到 Git
git add .
git commit -m "准备部署"
git push

# 运行部署脚本
./部署到Zeabur.sh

# 按提示登录和配置环境变量
```

**5 分钟后**：✅ 系统上线，获得访问地址

---

### 2️⃣ Docker 本地部署

```bash
# 运行部署脚本
./快速部署Docker.sh

# 选择 "1) 开发环境"

# 等待启动完成
```

**2 分钟后**：✅ 访问 http://localhost:3001

---

### 3️⃣ Docker 服务器部署

```bash
# SSH 登录服务器
ssh user@your-server

# 克隆代码
git clone <your-repo>
cd call-center-business-data

# 配置环境变量
cp backend/.env.example backend/.env
vim backend/.env
# 填入冠客 API 配置和密钥

# 部署
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d

# 配置域名和 HTTPS（推荐）
# 参考 DOCKER_DEPLOYMENT.md 中的 Nginx 配置
```

**10 分钟后**：✅ 系统上线

---

## 🔧 环境变量配置

### 后端必填项（所有部署方式都需要）

```bash
# backend/.env

# 冠客 API 配置（必填）
GUANKE_USERNAME=your-username
GUANKE_PASSWORD=your-password

# 生产环境密钥（必填，请生成随机字符串）
SECRET_KEY=<生成随机32位字符串>
JWT_SECRET_KEY=<生成随机32位字符串>
```

**生成随机密钥**：
```bash
python -c "import secrets; print(secrets.token_hex(32))"
```

### 前端必填项

```bash
# .env.production

# 后端 API 地址
VITE_BACKEND_URL=https://your-backend-url.com
```

---

## 📝 部署检查清单

### Zeabur 部署前

- [ ] 代码已提交到 Git
- [ ] 已在 Zeabur 控制台配置环境变量
- [ ] 冠客 API 账号密码正确

### Docker 部署前

- [ ] 已安装 Docker 和 Docker Compose
- [ ] 已配置 `backend/.env` 文件
- [ ] 冠客 API 账号密码正确

### 生产部署前

- [ ] 已生成随机 SECRET_KEY 和 JWT_SECRET_KEY
- [ ] 已配置生产数据库（PostgreSQL）
- [ ] 已配置域名和 HTTPS（推荐）
- [ ] 已配置防火墙和安全组

---

## 🆘 遇到问题？

### Docker 相关

```bash
# 查看服务状态
docker-compose ps

# 查看日志
docker-compose logs -f

# 重启服务
docker-compose restart

# 完全重置
docker-compose down -v
docker-compose up -d --build
```

### Zeabur 相关

```bash
# 查看部署状态
zeabur status

# 查看日志
zeabur logs

# 重新部署
zeabur deploy
```

### 常见错误

1. **数据库连接失败** → 检查 `DATABASE_URL` 配置
2. **API 调用失败** → 检查冠客账号密码
3. **前端无法访问后端** → 检查 `VITE_BACKEND_URL` 配置
4. **端口冲突** → 修改 `docker-compose.yml` 中的端口映射

---

## 📚 完整文档

- 📖 [Docker 部署完整指南](./DOCKER_DEPLOYMENT.md) ⭐ 推荐阅读
- 📖 [Zeabur 快速开始](./Zeabur快速开始.md)
- 📖 [项目 README](./README.md)

---

## 🎯 推荐流程

1. **开发阶段**：使用 Docker Compose 本地开发
2. **测试阶段**：部署到 Zeabur 进行团队测试
3. **生产阶段**：根据需求选择 Zeabur（快速）或云服务器（灵活）

---

**🎉 选择好了？立即开始部署吧！**

